{% extends "base.html" %}

{% block title %}Dancer Management - Battle-D{% endblock %}

{% block header_title %}Dancer Management{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h2 class="page-title">All Dancers</h2>
        <p class="page-subtitle">Manage dancers in your database</p>
    </div>
    <button type="button"
            class="btn btn-create"
            onclick="document.getElementById('create-dancer-modal').showModal()">
        + Create Dancer
    </button>
</div>

<div class="card mb-4">
    <div class="card-body">
        <div class="form-group mb-0">
            <input type="text"
                   name="query"
                   id="search-input"
                   value="{{ search }}"
                   placeholder="Search by blaze, name, or email..."
                   class="form-input"
                   hx-get="/dancers/api/search"
                   hx-trigger="keyup changed delay:500ms"
                   hx-target="#dancers-table"
                   hx-indicator="#dancers-loading">
            {% set loading_id = "dancers-loading" %}
            {% set loading_text = "Searching dancers..." %}
            {% set size = "small" %}
            {% include "components/loading.html" %}
        </div>
        <small class="text-muted">Live search - results update as you type</small>
    </div>
</div>

<section id="dancers-table">
    {% include "dancers/_table.html" %}
</section>

{# Dancer Create Modal #}
{% include "components/dancer_create_modal.html" %}
{% endblock %}
