{% extends "base.html" %}

{% block title %}Encode Preselection Battle - Battle-D{% endblock %}

{% block header_title %}Encode Preselection Battle{% endblock %}

{% block content %}
<section>
    <p><a href="/battles/{{ battle.id }}">‚Üê Cancel</a></p>
</section>

<article style="border: 1px solid var(--pico-muted-border-color); border-radius: 8px; padding: 24px;">
    <header>
        <h2>Encode Preselection Scores</h2>
        <p>Enter scores (0-10) for each performer in this preselection battle.</p>
    </header>

    <form action="/battles/{{ battle.id }}/encode" method="post" style="margin-top: 24px;">
        <section>
            <h3>Performers</h3>
            {% for performer in battle.performers %}
            <div style="margin-bottom: 20px; padding: 16px; border: 1px solid var(--pico-muted-border-color); border-radius: 4px;">
                <label for="score_{{ performer.id }}">
                    <strong>üé≠ Performer {{ loop.index }}</strong>
                    <input
                        type="number"
                        id="score_{{ performer.id }}"
                        name="score_{{ performer.id }}"
                        min="0"
                        max="10"
                        step="0.1"
                        required
                        placeholder="Score (0-10)"
                        {% if performer.preselection_score %}value="{{ performer.preselection_score }}"{% endif %}
                    >
                </label>
                <small>Enter a score from 0 to 10</small>
            </div>
            {% endfor %}
        </section>

        <footer style="margin-top: 24px; display: flex; gap: 12px;">
            <button type="submit">Submit Scores</button>
            <a href="/battles/{{ battle.id }}" role="button" class="secondary">Cancel</a>
        </footer>
    </form>
</article>
{% endblock %}
