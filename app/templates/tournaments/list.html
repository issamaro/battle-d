{% extends "base.html" %}

{% block title %}Tournament Management - Battle-D{% endblock %}

{% block content %}
<h2>Tournament Management</h2>

<section>
    <p><a href="/dashboard">‚Üê Back to Dashboard</a></p>
</section>

<section>
    <h3>Actions</h3>
    <a href="/tournaments/create" style="padding: 8px 16px; background-color: #28a745; color: white; text-decoration: none; border-radius: 4px;">
        + Create New Tournament
    </a>
</section>

<section style="margin-top: 30px;">
    <h3>All Tournaments</h3>
    {% if tournaments %}
        <table border="1" cellpadding="10" style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background-color: #f4f4f4;">
                    <th>Name</th>
                    <th>Status</th>
                    <th>Phase</th>
                    <th>Created At</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for tournament in tournaments %}
                <tr>
                    <td><strong>{{ tournament.name }}</strong></td>
                    <td>
                        <span style="padding: 4px 8px; background-color: {% if tournament.status.value == 'active' %}#28a745{% else %}#6c757d{% endif %}; color: white; border-radius: 4px; font-size: 12px;">
                            {{ tournament.status.value|upper }}
                        </span>
                    </td>
                    <td>
                        <span style="padding: 4px 8px; background-color: #007bff; color: white; border-radius: 4px; font-size: 12px;">
                            {{ tournament.phase.value|upper }}
                        </span>
                    </td>
                    <td>{{ tournament.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
                    <td>
                        <a href="/tournaments/{{ tournament.id }}">View Details</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <p style="margin-top: 20px;">
            <strong>Total Tournaments:</strong> {{ tournaments|length }}
        </p>
    {% else %}
        <p>No tournaments found. Create your first tournament to get started!</p>
    {% endif %}
</section>
{% endblock %}
